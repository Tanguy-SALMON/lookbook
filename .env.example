# Lookbook-MPC Environment Configuration
# Copy this file to .env and update with your values

# =============================================================================
# LLM Configuration
# =============================================================================
OLLAMA_HOST=http://localhost:11434
OLLAMA_TEXT_MODEL=qwen3:4b
OLLAMA_VISION_MODEL=qwen2.5vl:7b

# =============================================================================
# Database Configuration
# =============================================================================
# SQLite (default - easy to share and copy)
# LOOKBOOK_DB_URL=sqlite:///./lookbook.db

# MySQL (primary database for lookbook data)
LOOKBOOK_DB_URL=mysql+pymysql://magento:Magento@COS(*)@127.0.0.1:3306/lookbookMPC

# MySQL (optional - for Magento shop catalog)
# MYSQL_SHOP_URL=mysql+pymysql://user:password@localhost:3306/magento_db

# =============================================================================
# S3/CDN Configuration
# =============================================================================
# Required: Base URL for your S3 image storage
S3_BASE_URL=https://your-s3-bucket.s3.amazonaws.com

# =============================================================================
# CORS Configuration
# =============================================================================
# List of allowed origins for CORS
CORS_ORIGINS=["*"]

# =============================================================================
# Logging Configuration
# =============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=json

# =============================================================================
# Feature Flags
# =============================================================================
FEATURE_MCP=true
FEATURE_REDIS_QUEUE=false
FEATURE_METRICS=true

# =============================================================================
# Security Configuration
# =============================================================================
# API token for protecting write/vision endpoints (set in production)
# API_TOKEN=your-secret-token-here

# List of allowed image URL domains (comma-separated)
# ALLOWED_IMAGE_DOMAINS=https://your-cdn.example.com,https://your-s3-bucket.s3.amazonaws.com

# =============================================================================
# Vision Service Configuration
# =============================================================================
VISION_SIDECAR_HOST=http://localhost:8001
VISION_SIDECAR_TIMEOUT=30
VISION_MAX_BATCH_SIZE=20
VISION_MAX_WORKERS=2

# =============================================================================
# API Configuration
# =============================================================================
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=1

# =============================================================================
# Request Configuration
# =============================================================================
REQUEST_TIMEOUT=30
CONNECT_TIMEOUT=2
READ_TIMEOUT=8

# =============================================================================
# Retry Configuration
# =============================================================================
MAX_RETRIES=2
RETRY_BACKOFF_FACTOR=1.0

# =============================================================================
# Nginx Configuration
# =============================================================================
NGINX_SERVER_NAME=lookbook.internal
NGINX_PATH_PREFIX=/lookbook

# =============================================================================
# Rate Limiting
# =============================================================================
RATE_LIMIT_REQUESTS=5
RATE_LIMIT_BURST=10

# =============================================================================
# Image Processing
# =============================================================================
MAX_IMAGE_SIZE_BYTES=5242880

# =============================================================================
# Feature Flags Table
# =============================================================================
FEATURE_FLAGS_TABLE=feature_flags

# =============================================================================
# Development/Production Detection
# =============================================================================
# Set to true for production environments
# PRODUCTION=false